!function(t,r){function n(t){return this instanceof n?(this.el=o.query(t)||t,this.engine=n.support.transition?new i(this.el):new e(this.el),void this.duration(n.defaults.duration)):new n(t)}function e(t){this.el=t,this._start={},this._end={}}function i(t){this.el=t,this.reset()}var o={extend:function(t,r){for(var n in r)t[n]=r[n];return t},contains:function(t,r){for(var n in t)if(t[n]===r)return!0;return!1},query:function(t,n){return"string"!=typeof t?null:(n=n||r,n.querySelector(t))},vendorPropName:function(t){var n=r.createElement("div").style;if(t in n)return t;for(var e=o.camel("-"+t),i=["Moz","Webkit","O","ms"],s=0;s<i.length;s++)if(t=i[s]+e,t in n)return t},has3d:function(){var t=r.createElement("div").style,n=o.vendorPropName("transform");return t[n]="",t[n]="rotateY(90deg)",""!==t[n]},camel:function(t){return t.replace(/-(\w)/g,function(t,r){return r.toUpperCase()})},uncamel:function(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})},addUnit:function(t){return"string"==typeof t?t:t+"px"},getUnit:function(t){return"string"==typeof t?t.replace(/[\d\.]/g,""):"px"},lerp:function(t,r,n){return r+(n-r)*t}};n.defaults={duration:500},n.support={transition:o.vendorPropName("transition"),transform:o.vendorPropName("transform"),transform3d:o.has3d()},n.prototype.duration=function(t){return this.engine.duration(t),this},n.prototype.css=function(t,r){return this.engine.css(t,r),this},n.prototype.to=function(t,r){return this.engine.to(t,r),this},n.prototype.start=function(){return this.engine.start(),this},t.Morph=n,e.aliases={x:"left",y:"top"},e.prototype.duration=function(t){this._duration=t},e.prototype.css=function(t,r){o.extend(this._start,this.add(t,r)),this.setProperties()},e.prototype.to=function(t,r){o.extend(this._end,this.add(t,r))},e.prototype.add=function(t,r){var n={};r?n[t]=r:o.extend(n,t);for(var i in e.aliases)n[i]&&(n[e.aliases[i]]=n[i],delete n[i]);return n},e.prototype.setProperties=function(){for(var t in this._start)this.el.style[o.camel(t)]=o.addUnit(this._start[t])},e.prototype.initProperties=function(){for(var t in this._end)this._start[t]||(this._start[t]=this.el.style[o.camel(t)]||1)},e.prototype.applyProperties=function(t){for(var r in this._end){var n=this._start[r],e=this._end[r],i=o.lerp(t,parseFloat(n),parseFloat(e));this.el.style[o.camel(r)]=i+o.getUnit(e)}},e.prototype.start=function(){this.stop(),this.initProperties();var t=this,r=0,n=+new Date,e=function(){r+=(new Date-n)/t._duration,r=r>1?1:r,n=+new Date,t.applyProperties(r),1===r&&t.stop()};this.id=setInterval(e,16)},e.prototype.stop=function(){clearInterval(this.id),this.reset()},e.prototype.reset=function(){this._start={}},i.translate=o.has3d?["translate3d(",", 0)"]:["translate(",")"],i.aliases={x:function(t){return["#tx",i.translate.join(t+", 0")]},y:function(t){return["#ty",i.translate.join("0, "+t)]}},i.prototype.reset=function(){this._props={},this._transitionProps=[],this._transforms=[]},i.prototype.duration=function(t){this._duration=t},i.prototype.setVendorProperty=function(t,r){this.setProperty(o.uncamel(o.vendorPropName(t)),r)},i.prototype.setProperty=function(t,r){this._props[t]=r},i.prototype.css=function(t,r){this.duration(0),this.to(t,r),this.start()},i.prototype.to=function(t,r){var n=this.add(t,r);for(var e in n)e.match(/^#/)?(this.transform(n[e]),delete n[e]):this.transition(e);o.extend(this._props,n)},i.prototype.add=function(t,r){var n={};r?n[t]=r:o.extend(n,t);for(var e in i.aliases)if(n[e]){var s=o.addUnit(n[e]),a=i.aliases[e](s);n[a[0]]=a[1],delete n[e]}return n},i.prototype.transition=function(t){o.contains(this._transitionProps,t)||this._transitionProps.push(t)},i.prototype.transform=function(t){o.contains(this._transforms,t)||this._transforms.push(t)},i.prototype.applyProperties=function(t){for(var r in t)this.el.style.setProperty(r,t[r]);this.el.offsetHeight},i.prototype.start=function(){this._transforms.length&&(this.setVendorProperty("transform",this._transforms.join(" ")),this.transition(o.uncamel(n.support.transform))),this._duration>0&&(this.setVendorProperty("transition-duration",this._duration+"ms"),this.setVendorProperty("transition-property",this._transitionProps.join(", "))),this.applyProperties(this._props),this.reset()}}(window,document);